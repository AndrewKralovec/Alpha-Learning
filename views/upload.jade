extends layout

block content
  link(href="/stylesheets/upload.css", rel='stylesheet')
  script(src="/javascripts/uploadCtrl.js")
  script(src="/javascripts/ng-file-upload.js")
  .container(ng-app='fileUpload', ng-controller='uploadCtrl')
    .row
      .col-md-8
        form(name='myForm')
          fieldset
            legend Upload a Document
            |       Username:
            input(type='text', name='userName', ng-model='username', size='31', required='')
            i(ng-show='myForm.userName.$error.required') *required
            br
            | Document:
            input(type='file', ngf-select='', ng-model='picFile', name='file', accept='image/*', ngf-max-size='2MB', required='', ngf-model-invalid='errorFile')
            i(ng-show='myForm.file.$error.required') *required
            br
            i(ng-show='myForm.file.$error.maxSize')
              | File too large
              | {{errorFile.size / 1000000|number:1}}MB: max 2M
            img.thumb(ng-show='myForm.file.$valid', ngf-thumbnail='picFile')
            br
            button(ng-click='picFile = null', ng-show='picFile') Remove
            br
            br
            button(ng-disabled='!myForm.$valid', ng-click='uploadPic(picFile)') Submit
            span.progress(ng-show='picFile.progress >= 0')
              div(style='width:{{picFile.progress}}%', ng-bind="picFile.progress + '%'")
            span(ng-show='picFile.result') Upload Successful
            span.err(ng-show='errorMsg') {{errorMsg}}
          br
      .col-md-4
        // Page Search Well
        .well
          h4 Course Search
          .input-group
            input.form-control(type='text')
            span.input-group-btn
              button.btn.btn-default(type='button')
                i.fa.fa-search
        // Page Categories Well
        .well
          h4 User Courses
          .row
            // Category 1
            .col-lg-6
              ul.list-unstyled
                li(ng-repeat='doc in documents |filter:range(1,halfCount)')
                  a(href='#') {{doc.name}}
            // Category 2
            .col-lg-6
              ul.list-unstyled
                li(ng-repeat='doc in documents |filter:range((halfCount+1),count)')
                  a(href='#') {{doc.name}}
        // Side Widget Well
        .well
          h4 Reputation (200)
          p
            | You have no recent negative or positive
            a reputation
            | changes
            .alert.alert-success(role='alert')
              strong Well done!
              i.pull-right.fa.fa-thumbs-up.icon-rounded.fa-2x